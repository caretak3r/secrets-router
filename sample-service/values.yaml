# Sample service configuration for testing secrets-router
# This configuration is designed to be used with the umbrella chart
# Service teams provide their secrets under their service section in umbrella values.yaml

replicaCount: 3
restartPolicy: Always

# Service for the sample pods
service:
  type: ClusterIP
  port: 80

# Secrets router configuration
secretsRouter:
  url: "http://secrets-router.dapr-control-plane.svc.cluster.local:8080"
  namespace: "dapr-control-plane"

# Sample clients to deploy - these will be enabled/disabled from umbrella chart
client:
  python:
    enabled: true
    image: sample-python-service
    pullPolicy: Never
    secrets: {}  # Will be populated from umbrella chart values
   
  node:
    enabled: true
    image: sample-node-service
    pullPolicy: Never
    secrets: {}  # Will be populated from umbrella chart values
    
  bash:
    enabled: true
    image: sample-bash-service
    pullPolicy: Never
    secrets: {}  # Will be populated from umbrella chart values

resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

# Kubernetes secret to create for testing (fallback)
testSecret:
  name: sample-secret
  data:
    password: dGVzdC1wYXNzd29yZA==  # base64 encoded "test-password"
    username: dGVzdC11c2Vy  # base64 encoded "test-user"
    database: dGVzdC1kYg==  # base64 encoded "test-db"
